<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Test Interactivo - Arquitectura Cliente Servidor</title>
<style>
  body { font-family: Arial, sans-serif; background-color: #f5f7fa; margin: 40px; color: #333; }
  h1 { text-align: center; color: #2a6acb; }
  .question { background: white; padding: 15px; margin: 15px 0; border-radius: 10px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); }
  button { background-color: #2a6acb; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; margin-right: 10px; }
  button:hover { background-color: #1e4f9c; }
  #result { font-weight: bold; font-size: 1.2em; text-align: center; margin-top: 20px; }
  .correct { color: green; font-weight: bold; }
  .incorrect { color: red; font-weight: bold; }
  #progressContainer { width: 100%; background: #ddd; border-radius: 10px; margin-top: 15px; }
  #progressBar { width: 0%; height: 20px; background: #2a6acb; border-radius: 10px; transition: width 0.5s ease; }
</style>
</head>
<body>
<h1>Test Interactivo - Arquitectura Cliente Servidor</h1>
<div id="quiz"></div>
<div style="text-align:center; margin-top:20px;">
  <button onclick="checkAnswers()">Enviar respuestas</button>
  <button onclick="resetQuiz()">Reiniciar</button>
</div>
<div id="progressContainer"><div id="progressBar"></div></div>
<p id="result"></p>

<script>
const questions = [
  {q: '¬øQu√© es el modelo cliente-servidor?', options: ['Una red local sin jerarqu√≠a','Un modelo donde el cliente solicita servicios y el servidor los proporciona','Un tipo de base de datos relacional','Un lenguaje de programaci√≥n web'], correct: 1},
  {q: '¬øQu√© funci√≥n cumple el cliente en este modelo?', options: ['Procesar la l√≥gica de negocio','Solicitar servicios o recursos al servidor','Almacenar datos en una base de datos','Cifrar la comunicaci√≥n'], correct: 1},
  {q: '¬øCu√°l es el protocolo m√°s usado para la comunicaci√≥n web?', options: ['FTP','SMTP','HTTP','SSH'], correct: 2},
  {q: '¬øQu√© diferencia hay entre el front-end y el back-end?', options: ['El front-end maneja la l√≥gica y el back-end la interfaz','El front-end es visible para el usuario y el back-end maneja la l√≥gica y los datos','Ambos hacen lo mismo','El front-end se ejecuta en el servidor'], correct: 1},
  {q: '¬øQu√© caracteriza a la arquitectura cliente-servidor de dos capas?', options: ['Separa presentaci√≥n, l√≥gica y datos','El cliente se conecta directamente al servidor de datos','Usa varios servidores intermedios','Solo se usa en redes locales'], correct: 1},
  {q: '¬øQu√© capa se encarga de la presentaci√≥n en una arquitectura de dos capas?', options: ['Capa de datos','Capa de aplicaci√≥n','Capa de presentaci√≥n','Capa l√≥gica'], correct: 2},
  {q: '¬øQu√© caracteriza a la arquitectura cliente-servidor de tres capas?', options: ['Solo usa dos niveles f√≠sicos','Separa la aplicaci√≥n en cliente, servidor intermedio y base de datos','Usa un √∫nico servidor para todo','No necesita conexi√≥n de red'], correct: 1},
  {q: '¬øQu√© funci√≥n cumple el nivel de aplicaci√≥n o l√≥gica?', options: ['Mostrar la interfaz al usuario','Procesar la l√≥gica de negocio y coordinar cliente y base de datos','Almacenar datos','Crear el dise√±o visual'], correct: 1},
  {q: '¬øQu√© tecnolog√≠a se usa normalmente para el nivel de datos?', options: ['HTML y CSS','MySQL, Oracle o PostgreSQL','JavaScript y PHP','Python y Flask'], correct: 1},
  {q: '¬øQu√© es HTTP?', options: ['Un protocolo de transferencia de hipertexto usado para la comunicaci√≥n web','Un lenguaje de programaci√≥n','Un navegador web','Una base de datos'], correct: 0},
  {q: '¬øQu√© diferencia principal tiene HTTPS respecto a HTTP?', options: ['Es m√°s r√°pido','Cifra la comunicaci√≥n entre cliente y servidor','Usa un puerto diferente sin cifrado','Solo sirve para redes locales'], correct: 1},
  {q: '¬øQu√© puerto usa HTTPS normalmente?', options: ['21','25','80','443'], correct: 3},
  {q: '¬øQu√© lenguajes se usan en el lado cliente?', options: ['HTML, CSS y JavaScript','Python y PHP','Java y C#','SQL y MongoDB'], correct: 0},
  {q: '¬øQu√© lenguajes se usan en el lado servidor?', options: ['JavaScript (Node.js), PHP, Python, Java, Ruby','HTML y CSS','React y Angular','SQL y XML'], correct: 0},
  {q: '¬øQu√© funci√≥n cumple el servidor web?', options: ['Interpretar el c√≥digo HTML y mostrarlo al usuario','Procesar solicitudes y enviar respuestas al cliente','Controlar el sistema operativo del cliente','Crear archivos multimedia'], correct: 1}
];

const quizContainer = document.getElementById('quiz');
const progressBar = document.getElementById('progressBar');

questions.forEach((item, i) => {
  const div = document.createElement('div');
  div.classList.add('question');
  div.innerHTML = `<p><b>${i + 1}. ${item.q}</b></p>` +
    item.options.map((opt, j) => `<label><input type='radio' name='q${i}' value='${j}'> ${opt}</label><br>`).join('');
  quizContainer.appendChild(div);
});

function checkAnswers() {
  let score = 0;
  questions.forEach((item, i) => {
    const selected = document.querySelector(`input[name='q${i}']:checked`);
    const div = quizContainer.children[i];
    const labels = div.querySelectorAll('label');
    labels.forEach((l, idx) => {
      l.classList.remove('correct','incorrect');
      if (idx === item.correct) l.classList.add('correct');
      if (selected && idx == selected.value && idx !== item.correct) l.classList.add('incorrect');
    });
    if (selected && parseInt(selected.value) === item.correct) score++;
  });
  const percent = (score / questions.length) * 100;
  progressBar.style.width = percent + '%';

  let message = '';
  if (percent === 100) message = 'üåü ¬°Excelente! Has contestado todo correctamente.';
  else if (percent >= 80) message = 'üëè Muy bien, tienes un gran dominio del tema.';
  else if (percent >= 50) message = 'üëç Buen intento, sigue practicando.';
  else message = 'üí° Puedes mejorar, repasa el contenido e int√©ntalo otra vez.';

  document.getElementById('result').innerHTML = `Resultado: ${score} / ${questions.length} <br>${message}`;
}

function resetQuiz() {
  document.querySelectorAll('input[type=radio]').forEach(r => r.checked = false);
  document.querySelectorAll('label').forEach(l => l.classList.remove('correct','incorrect'));
  document.getElementById('result').textContent = '';
  progressBar.style.width = '0%';
}
</script>
</body>
</html>
